swagger: '2.0'
basePath: /
info:
  version: '0.1'
  title: API Gateway Resources
  description: ''
schemes:
- http
paths:
  /callback/{token}/:
    post:
      operationId: callback
      description: 节点回调入口
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.callback_sub_path}taskflow/api/v4/nodes/callback/{token}/
          matchSubpath: false
          timeout: 0
          upstreams:
            loadbalance: roundrobin
            hosts:
            - host: http://{env.callback_host}
              weight: 100
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: false
          resourcePermissionRequired: false
        disabledStages: []
  /create_periodic_task/{template_id}/{bk_biz_id}/:
    post:
      operationId: create_periodic_task
      description: 创建周期任务
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/create_periodic_task/{template_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /create_task/{template_id}/{bk_biz_id}/:
    post:
      operationId: create_task
      description: 通过业务流程模板创建任务
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/create_task/{template_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /dispatch_plugin_query/:
    post:
      operationId: dispatch_plugin_query
      description: 插件请求转发
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/dispatch_plugin_query/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /fast_create_task/{bk_biz_id}/:
    post:
      operationId: fast_create_task
      description: 创建一次性任务
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/fast_create_task/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_common_template_info/{template_id}/:
    get:
      operationId: get_common_template_info
      description: 查询单个公共流程模板详情
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_common_template_info/{template_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_common_template_list/:
    get:
      operationId: get_common_template_list
      description: 查询公共模板列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_common_template_list/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_periodic_task_info/{task_id}/{bk_biz_id}/:
    get:
      operationId: get_periodic_task_info
      description: 查询某个周期任务的详情
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_periodic_task_info/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_periodic_task_list/{bk_biz_id}/:
    get:
      operationId: get_periodic_task_list
      description: 查询某个业务下所有的周期任务
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_periodic_task_list/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_plugin_list/{bk_biz_id}/:
    get:
      operationId: get_plugin_list
      description: 查询某个业务下的插件列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_plugin_list/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_tasks_status/{bk_biz_id}/:
    post:
      operationId: get_tasks_status
      description: 批量查询任务状态
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/get_tasks_status/{bk_biz_id}/
          matchSubpath: false
          timeout: 60
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_detail/{task_id}/{bk_biz_id}/:
    get:
      operationId: get_task_detail
      description: 查询任务执行详情
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_detail/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_list/{bk_biz_id}/:
    get:
      operationId: get_task_list
      description: 获取任务列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_list/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_node_data/{bk_biz_id}/{task_id}/:
    get:
      operationId: get_task_node_data
      description: 获取节点执行时实际的输入输出参数
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_node_data/{bk_biz_id}/{task_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_node_detail/{task_id}/{bk_biz_id}/:
    get:
      operationId: get_task_node_detail
      description: 查询任务节点执行详情
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_node_detail/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_status/{task_id}/{bk_biz_id}/:
    get:
      operationId: get_task_status
      description: 查询任务执行状态
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_status/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 60
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_template_info/{template_id}/{bk_biz_id}/:
    get:
      operationId: get_template_info
      description: 查询业务下的单个模板详情
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_template_info/{template_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_template_list/{bk_biz_id}/:
    get:
      operationId: get_template_list
      description: 查询业务下的模板列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_template_list/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_template_schemes/{bk_biz_id}/{template_id}/:
    get:
      operationId: get_template_schemes
      description: 获取模板的执行方案列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_template_schemes/{bk_biz_id}/{template_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_user_project_detail/{bk_biz_id}/:
    get:
      operationId: get_user_project_detail
      description: 获取项目的详细信息
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_user_project_detail/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_user_project_list/:
    get:
      operationId: get_user_project_list
      description: 获取用户有权限的项目列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_user_project_list/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /import_project_template/{bk_biz_id}/:
    post:
      operationId: import_project_template
      description: 导入项目模板
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/import_project_template/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /modify_constants_for_periodic_task/{task_id}/{bk_biz_id}/:
    post:
      operationId: modify_constants_for_periodic_task
      description: 修改周期任务的全局参数
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/modify_constants_for_periodic_task/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /modify_cron_for_periodic_task/{task_id}/{bk_biz_id}/:
    post:
      operationId: modify_cron_for_periodic_task
      description: 修改周期任务的调度策略
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/modify_cron_for_periodic_task/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /node_callback/{task_id}/{bk_biz_id}/:
    post:
      operationId: node_callback
      description: 回调任务的节点
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/node_callback/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /operate_node/{bk_biz_id}/{task_id}/:
    post:
      operationId: operate_node
      description: 操作节点
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/operate_node/{bk_biz_id}/{task_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /operate_task/{task_id}/{bk_biz_id}/:
    post:
      operationId: operate_task
      description: 操作任务，如开始、暂停、继续、终止等
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/operate_task/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /preview_task_tree/{bk_biz_id}/{template_id}/:
    post:
      operationId: preview_task_tree
      description: 预览模板创建后生成的任务树
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/preview_task_tree/{bk_biz_id}/{template_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /register_project/:
    post:
      operationId: register_project
      description: 项目信息同步注册到标准运维
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/register_project/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /set_periodic_task_enabled/{task_id}/{bk_biz_id}/:
    post:
      operationId: set_periodic_task_enabled
      description: 设置某个周期任务是否激活
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/set_periodic_task_enabled/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /start_task/{task_id}/{bk_biz_id}/:
    post:
      operationId: start_task
      description: 开始执行任务
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/start_task/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /copy_template_across_project/{bk_biz_id}/:
    post:
      operationId: copy_template_across_project
      description: 跨业务复制模板
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/copy_template_across_project/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_operate_record/{task_id}/{project_id}/:
    get:
      operationId: get_task_operate_record
      description: 获取任务操作记录
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_operate_record/{task_id}/{project_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /apply_webhook_configs/{project_id}/:
    post:
      operationId: apply_webhook_configs
      description: 应用模板的webhook配置
      tags:
        - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/apply_webhook_configs/{project_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_effective_time/{task_id}/{bk_biz_id}/:
    get:
      operationId: get_task_effective_time
      description: 统计任务的有效执行时间（排除人工节点）
      tags:
        - 通用接口
      parameters:
      - in: path
        name: task_id
        type: string
        required: true
        description: 任务实例ID
      - in: path
        name: bk_biz_id
        type: string
        required: true
        description: 模板所属业务ID
      - in: query
        name: scope
        type: string
        default: cmdb_biz
        required: false
        description: bk_biz_id 检索的作用域。默认为 cmdb_biz，此时检索的是绑定的 CMDB 业务 ID 为 bk_biz_id 的项目；当值为 project 时则检索项目 ID 为 bk_biz_id 的项目
      - in: query
        name: debug
        type: string
        default: '0'
        required: false
        description: 是否启用调试模式，1 表示启用，0 表示不启用，默认 0
      responses:
        '200':
          description: ''
          schema:
            type: object
            properties:
              result:
                type: boolean
                description: true/false 查询成功与否
              data:
                type: object
                properties:
                  task_instance_id:
                    type: integer
                    description: 任务实例ID
                  instance_id:
                    type: integer
                    description: Pipeline实例ID
                  template_id:
                    type: string
                    description: Pipeline模板ID
                  task_template_id:
                    type: string
                    description: 任务模板ID
                  project_id:
                    type: integer
                    description: 项目ID
                  creator:
                    type: string
                    description: 创建者
                  create_method:
                    type: string
                    description: 任务创建方式（app/api/app_maker/periodic/clocked/mobile）
                  create_time:
                    type: string
                    description: 创建时间，格式：YYYY-MM-DD HH:MM:SS
                  start_time:
                    type: string
                    description: 启动时间，格式：YYYY-MM-DD HH:MM:SS
                  finish_time:
                    type: string
                    description: 结束时间，格式：YYYY-MM-DD HH:MM:SS
                  total_elapsed_time:
                    type: integer
                    description: 总执行时间（秒）
                  effective_time:
                    type: integer
                    description: 有效执行时间（秒），排除人工节点后的耗时
                  excluded_node_count:
                    type: integer
                    description: 排除节点数量（人工节点数量）
                  total_node_count:
                    type: integer
                    description: 总节点数量
                  excluded_component_codes:
                    type: array
                    items:
                      type: string
                    description: 排除的节点组件代码列表，从环境变量 MANUAL_WAITING_COMPONENT_CODES 中获取，如果未配置则使用默认值：["bk_approve", "pause_node", "sleep_timer", "bot-approval"]
                  category:
                    type: string
                    description: 任务分类
                  debug:
                    type: object
                    description: 调试信息，仅在 debug=1 时返回
                    properties:
                      node_details:
                        type: array
                        items:
                          type: object
                        description: 节点明细信息
                      parallel_gateways:
                        type: array
                        items:
                          type: object
                        description: 并行网关明细
                      raw_data:
                        type: object
                        description: 原始数据
                description: result=true 时返回数据，详细信息见下面说明
              message:
                type: string
                description: result=false 时错误信息
              code:
                type: integer
                description: 错误码，0表示成功
              trace_id:
                type: string
                description: open telemetry trace_id
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_effective_time/{task_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_mini_app_list/{bk_biz_id}/:
    get:
      operationId: get_mini_app_list
      description: 获取轻应用列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_mini_app_list/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_functionalization_task_list/:
    get:
      operationId: get_functionalization_task_list
      description: 获取职能化任务列表
      tags:
      - 通用接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: true
        allowApplyPermission: true
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_functionalization_task_list/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /create_clocked_task/{template_id}/{bk_biz_id}/:
    post:
      operationId: create_clocked_task
      description: 创建计划任务
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/create_clocked_task/{template_id}/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /apply_job_file_upload_ticket/:
    get:
      operationId: apply_job_file_upload_ticket
      description: ''
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/apply_job_file_upload_ticket/
          matchSubpath: false
          timeout: 10
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /job_file_upload/{bk_biz_id}/:
    post:
      operationId: job_file_upload
      description: ''
      tags:
      - 限制接口
      responses:
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: post
          path: /{env.api_sub_path}apigw/job_file_upload/{bk_biz_id}/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: true
        disabledStages: []
  /get_task_node_log/:
    get:
      operationId: get_task_node_log
      description: 获取某个节点的执行日志
      tags: []
      parameters:
      - in: query
        name: node_id
        type: string
        required: true
        description: 任务中节点ID
      - in: query
        name: version
        type: string
        required: true
        description: 版本
      - in: query
        name: page
        type: number
        description: 页码
      - in: query
        name: page_size
        type: number
        description: 每页条目数
      responses:
        '200':
          description: ''
          schema:
            type: object
            properties:
              data:
                type: string
                description: 日志内容
              page:
                type: object
                description: 分页信息
              result:
                type: boolean
                description: true/false查询成功与否
              message:
                type: string
                description: result=false时错误信息
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_node_log/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        disabledStages: []
  /get_task_plugin_log/:
    get:
      operationId: get_task_plugin_log
      description: 查询插件日志
      tags: []
      parameters:
      - in: query
        name: plugin_code
        type: string
        required: true
        description: 插件服务编码
      - in: query
        name: trace_id
        type: string
        required: true
        description: Trace ID
      - in: query
        name: scroll_id
        type: string
        description: 翻页标识字段
      responses:
        '200':
          description: ''
          schema:
            type: object
            properties:
              data:
                type: object
                properties:
                  logs:
                    type: string
                    description: 日志内容
                  total:
                    type: number
                    description: 日志总数
                  scroll_id:
                    type: string
                    description: 翻页标识符，获取下一页时传入该值
              result:
                type: boolean
                description: true/false查询成功与否
              message:
                type: string
                description: result=false时错误信息
        default:
          description: ''
      x-bk-apigateway-resource:
        isPublic: false
        allowApplyPermission: false
        matchSubpath: false
        backend:
          type: HTTP
          method: get
          path: /{env.api_sub_path}apigw/get_task_plugin_log/
          matchSubpath: false
          timeout: 0
          upstreams: {}
          transformHeaders: {}
        authConfig:
          userVerifiedRequired: false
          appVerifiedRequired: true
          resourcePermissionRequired: true
        disabledStages: []